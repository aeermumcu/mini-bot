[build]
builder = "nixpacks"

[build.nixpkgs]
# Required for Playwright browser
pkgs = ["chromium", "libglib2.0-0", "libnss3", "libnspr4", "libatk1.0-0", "libatk-bridge2.0-0", "libcups2", "libdrm2", "libxkbcommon0", "libxcomposite1", "libxdamage1", "libxfixes3", "libxrandr2", "libgbm1", "libasound2"]

[deploy]
startCommand = "playwright install chromium --with-deps && python3 mini_monitor.py"
restartPolicyType = "on-failure"
restartPolicyMaxRetries = 3

